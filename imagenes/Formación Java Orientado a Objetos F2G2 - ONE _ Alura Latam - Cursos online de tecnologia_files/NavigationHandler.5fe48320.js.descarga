"use strict";var NavigationHandler=function(o){var c={allElements:document.querySelector("."+o).getElementsByTagName("*"),pageElement:document.querySelector("."+o),aboutElement:document.querySelector("."+o+"-sobre"),indexElement:document.querySelector("."+o+"-sobre-index"),conclusionElement:document.querySelector("."+o+"-conclusao"),indexButton:document.querySelector("."+o+"-index-botao"),indexNavigation:document.querySelector("."+o+"-index-navegacao"),navigationList:document.querySelector("."+o+"-navegacao-lista"),navigationItems:document.querySelectorAll("."+o+"-navegacao-item"),navigationLinks:document.querySelectorAll("."+o+"-navegacao-link"),indexHeight:parseInt(window.getComputedStyle(document.querySelector("."+o+"-sobre-index")).height),indexTop:parseInt(window.getComputedStyle(document.querySelector("."+o+"-sobre-index")).top),heightTolerance:50,showNavigationButton:function(){c.indexElement.classList.add(o+"-sobre-index--ready")},hideNavigationButton:function(){c.indexElement.classList.remove(o+"-sobre-index--ready")},displayButtonOnScroll:function(){c.getElementYOffset(c.aboutElement)-c.heightTolerance<=c.getScrollYPosition()?c.showNavigationButton():c.hideNavigationButton()},emulatePositionSticky:function(){var e=parseInt(window.getComputedStyle(document.querySelector("."+o)).height),t=c.getScrollYPosition(),n=c.getElementYOffset(c.aboutElement),e=c.getElementYOffset(c.pageElement)+e-c.indexHeight-c.indexTop-15;n<=t&&t<=e?(c.indexElement.style.position="fixed",c.indexElement.style.top=null):e<t?(c.indexElement.style.position=null,c.indexElement.style.top=e+c.indexTop-n+"px"):c.indexElement.style.position=null},openNavigation:function(){c.indexElement.classList.add(o+"-sobre-index--active"),c.indexButton.removeEventListener("click",c.openNavigation),c.indexButton.addEventListener("click",c.closeNavigation)},closeNavigation:function(){c.indexElement.classList.remove(o+"-sobre-index--active"),c.indexButton.removeEventListener("click",c.closeNavigation),c.indexButton.addEventListener("click",c.openNavigation)},setupCloseNavigation:function(){document.body.addEventListener("click",c.closeNavigation),c.indexElement.addEventListener("click",function(e){e.stopPropagation()})},adjustNavigationPadding:function(){var e=c.navigationList.clientHeight,t=c.navigationItems[0].clientHeight,n=c.navigationItems.length,e=10+(e-n*t)/n/2;c.indexElement.style.paddingTop=e.toString()+"px",c.indexElement.style.paddingBottom=e.toString()+"px"},removeAdjustedPadding:function(){c.indexElement.style.paddingTop=null,c.indexElement.style.paddingBottom=null},preventScrollPropagation:function(){c.indexNavigation.addEventListener("touchstart",function(){document.body.classList.add("noscroll")}),document.body.addEventListener("touchstart",function(){document.body.classList.remove("noscroll")}),c.indexNavigation.addEventListener("touchstart",function(e){e.stopPropagation()})},getScrollYPosition:function(){return Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop)},getElementYOffset:function(e){var e=e.getBoundingClientRect(),t=c.getScrollYPosition();return e.top+t},getCurrentAnchor:function(){for(var e=[],t=c.getScrollYPosition(),n=0;n<c.allElements.length;n++){var o=c.allElements[n],i=o.id;""!==i&&c.isANavigationMenuOption(i)&&!c.containsContactForm(i)&&(i=c.getElementYOffset(o),e.push(i))}if(0<e.length){for(var a=e.length-1;0<a&&t<e[a]-c.heightTolerance;)a--;return a}return-1},isANavigationMenuOption:function(e){var t=[];return c.navigationLinks.forEach(function(e){return t.push(e.getAttribute("href").replace("#",""))}),t.includes(e)},containsContactForm:function(e){return null!=c.contactForm&&(!(c.contactForm.children.length<1)&&e.includes(c.contactForm.children[0].id))},showCurrentAnchor:function(){for(var e=c.getCurrentAnchor(),t=0;t<c.navigationLinks.length;t++)c.navigationLinks[t].classList.remove(o+"-navegacao-link--active");0<=e&&c.navigationLinks[e].classList.add(o+"-navegacao-link--active")},smoothScrollTo:function(e){var t=c.getScrollYPosition(),n=c.getElementYOffset(e),e=Math.abs(n-t);if(e<50)window.scrollTo(0,n);else{var o=Math.round(e/100),i=(20<=o&&(o=20),Math.round(e/30)),a=t<n?t+i:t-i,l=0;if(t<n)for(var r=t;r<n;r+=i)setTimeout("window.scrollTo(0,"+a+")",l*o),n<(a+=i)&&(a=n),l++;else for(r=t;n<r;r-=i)setTimeout("window.scrollTo(0,"+a+")",l*o),(a-=i)<n&&(a=n),l++}},setupNavigationLinks:function(){for(var e=0;e<c.navigationLinks.length;e++)!function(e){var e=c.navigationLinks[e],t=e.getAttribute("href").slice(1),n=document.getElementById(t);e.addEventListener("click",function(e){e.preventDefault(),c.smoothScrollTo(n)})}(e)},checkIfMobile:function(){window.matchMedia("(min-width: 1100px)").matches?(c.removeAdjustedPadding(),window.removeEventListener("scroll",c.displayButtonOnScroll),document.body.removeEventListener("click",c.closeNavigation),c.indexButton.removeEventListener("click",c.openNavigation),c.emulatePositionSticky(),window.addEventListener("scroll",c.emulatePositionSticky)):(window.removeEventListener("scroll",c.emulatePositionSticky),c.adjustNavigationPadding(),c.displayButtonOnScroll(),window.addEventListener("scroll",c.displayButtonOnScroll),c.setupCloseNavigation(),c.indexButton.addEventListener("click",c.openNavigation))},setupElement:function(){c.setupNavigationLinks(),c.preventScrollPropagation(),c.showCurrentAnchor(),window.addEventListener("scroll",c.showCurrentAnchor),c.checkIfMobile(),window.addEventListener("resize",c.checkIfMobile)}};return{setupElement:c.setupElement}};